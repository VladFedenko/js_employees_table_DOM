{"version":3,"sources":["scripts/main.js"],"names":["sortedParam","body","document","querySelector","table","head","dataArray","container","createElement","salaryToNumber","salary","slice","split","join","toFormat","data","resultString","toString","result","length","push","style","alignItems","append","flexDirection","children","row","rowObject","name","innerText","position","office","age","sortTable","toSort","colum","direction","toLowerCase","sort","a","b","localeCompare","createTable","innerHTML","map","element","addEventListener","evnt","target","activeRow","classList","remove","closest","add","form","className","display","evt","preventDefault","reset","newName","newPosition","newOffice","newAge","newSallary","formButton","value","pushNotification","title","description","type","message","messageTitle","messageDescription","marginLeft","marginTop","setTimeout","cell","editCell","index","findIndex","x","atribute","dataset","qa","evnt2","key","blur","initialValue","valueToSet"],"mappings":"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","file":"main.181186aa.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst table = document.querySelector('tbody');\nconst head = document.querySelector('thead');\nlet sortedParam;\nconst dataArray = [];\n\nconst container = document.createElement('div');\n\nbody.style.alignItems = 'flex-start';\nbody.append(container);\ncontainer.style.flexDirection = 'column';\n\n// Convert salary to number\nfunction salaryToNumber(salary) {\n  return salary.slice(1).split(',').join('');\n}\n\n// Convert salary to render format\nfunction toFormat(data) {\n  let resultString = data.toString();\n  const result = [];\n\n  do {\n    if (resultString.length % 3) {\n      result.push(resultString.slice(0, resultString.length % 3));\n      resultString = resultString.slice(resultString.length % 3);\n    }\n    result.push(resultString.slice(0, 3));\n    resultString = resultString.slice(3);\n  } while (resultString.length > 0);\n\n  return `$${result.join(',')}`;\n}\n\n// Create array from table\nfor (const row of table.children) {\n  const rowObject = {};\n\n  rowObject.name = row.children[0].innerText;\n  rowObject.position = row.children[1].innerText;\n  rowObject.office = row.children[2].innerText;\n  rowObject.age = row.children[3].innerText;\n  rowObject.salary = +salaryToNumber(row.children[4].innerText);\n  dataArray.push(rowObject);\n}\n\ncreateTable();\n\n// Sort table function\nfunction sortTable(toSort, colum) {\n  const direction = sortedParam === colum;\n\n  sortedParam = sortedParam === colum ? '' : colum;\n\n  if (!direction) {\n    if (typeof toSort[0][colum.toLowerCase()] === 'string') {\n      toSort.sort((a, b) =>\n        a[colum.toLowerCase()].localeCompare(b[colum.toLowerCase()]));\n    } else {\n      toSort.sort((a, b) => a[colum.toLowerCase()] - b[colum.toLowerCase()]);\n    }\n  } else {\n    if (typeof toSort[0][colum.toLowerCase()] === 'string') {\n      toSort.sort((a, b) =>\n        b[colum.toLowerCase()].localeCompare(a[colum.toLowerCase()]));\n    } else {\n      toSort.sort((a, b) => b[colum.toLowerCase()] - a[colum.toLowerCase()]);\n    }\n  }\n\n  createTable();\n}\n\n// Create Table from object\nfunction createTable() {\n  table.innerHTML = `${dataArray.map(element => `\n    <tr class=\"row\">\n      <td data-qa=\"name\">${element.name}</td>\n      <td data-qa=\"position\">${element.position}</td>\n      <td data-qa=\"office\">${element.office}</td>\n      <td data-qa=\"age\">${element.age}</td>\n      <td data-qa=\"salary\">${toFormat(element.salary)}</td>\n    </tr>\n  `).join('')}`;\n}\n\n// Sort table Event\nhead.addEventListener('click', (evnt) => {\n  sortTable(dataArray, evnt.target.innerText);\n});\n\n// Slect Row\ntable.addEventListener('click', (evnt) => {\n  const activeRow = document.querySelector('.active');\n\n  if (activeRow) {\n    activeRow.classList.remove('active');\n  }\n\n  const selectedRow = evnt.target.closest('.row');\n\n  selectedRow.classList.add('active');\n});\n\n// Create Form\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\ncontainer.style.display = 'flex';\n\nform.innerHTML = `\n  <label>\n    Name: \n      <input name=\"name\" \n        type=\"text\"\n        class=\"new-name\"\n        data-qa=\"name\"\n        required\n      >\n  </label>\n  <label>\n    Position: \n      <input name=\"position\" \n        \n        class=\"new-position\"\n        data-qa=\"position\"\n        required\n      >\n  </label>\n  <label>\n    Office: \n      <select name=\"office\"\n        class=\"new-office\"\n        data-qa=\"office\"\n      >\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n  </label>\n  <label>\n    Age: \n      <input name=\"age\" \n        type=\"number\"\n        class=\"new-age\"\n        data-qa=\"age\"\n        min=\"18\"\n        max=\"90\"\n        required\n      >\n  </label>\n  <label>\n    Salary: \n      <input name=\"salary\" \n        class=\"new-sallary\"\n        type=\"number\"\n        data-qa=\"salary\"\n        required\n      >\n  </label>\n\n  <button type=\"submit\" class=\"form-button\">Save to table</button>\n`;\n\ncontainer.append(form);\n\nform.addEventListener('submit', (evt) => {\n  evt.preventDefault();\n  document.querySelector('form').reset();\n});\n\nconst newName = form.querySelector('.new-name');\nconst newPosition = form.querySelector('.new-position');\nconst newOffice = form.querySelector('.new-office');\nconst newAge = form.querySelector('.new-age');\nconst newSallary = form.querySelector('.new-sallary');\nconst formButton = form.querySelector('.form-button');\n\n// Add new employee\nformButton.addEventListener('click', () => {\n  const rowObject = {};\n\n  if (newName.value === '' || newPosition.value === ''\n  || newAge.value === '' || newSallary.value === '') {\n    return;\n  }\n\n  if (newName.value.length < 4) {\n    pushNotification('Error',\n      'Name must be longer than 4 letters', 'error');\n\n    return;\n  }\n\n  if (newAge.value < 18 || newAge.value > 90) {\n    pushNotification('Error',\n      'Age must be beetwen 18 and 90 years', 'error');\n\n    return;\n  }\n\n  rowObject.name = newName.value;\n  rowObject.position = newPosition.value;\n  rowObject.office = newOffice.value;\n  rowObject.age = newAge.value;\n  rowObject.salary = +newSallary.value;\n  dataArray.push(rowObject);\n\n  createTable();\n\n  pushNotification('Success',\n    'A new employee is successfully added to the table', 'success');\n});\n\n// Notification's\n\nconst pushNotification = (title, description, type) => {\n  const message = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  message.style.position = 'static';\n  message.className = 'notification ' + type;\n  messageTitle.className = 'title';\n  messageDescription.innerText = description;\n  messageTitle.innerText = title;\n  message.append(messageTitle);\n  message.append(messageDescription);\n  message.style.marginLeft = '24px';\n  message.style.marginTop = '24px';\n  container.append(message);\n\n  setTimeout(() => message.remove(), 2000);\n};\n\n// Edit Cell\n\ntable.addEventListener('dblclick', (evnt) => {\n  if (!document.querySelector('.cell-input')) {\n    const row = evnt.target.closest('.row');\n    const rowObject = {};\n    const cell = evnt.target;\n    const editCell = document.createElement('input');\n\n    editCell.className = 'cell-input';\n\n    rowObject.name = row.children[0].innerText;\n    rowObject.position = row.children[1].innerText;\n    rowObject.office = row.children[2].innerText;\n    rowObject.age = row.children[3].innerText;\n    rowObject.salary = +salaryToNumber(row.children[4].innerText);\n\n    const index = dataArray.findIndex(x => x.name === rowObject.name);\n    const atribute = evnt.target.dataset.qa;\n\n    cell.innerHTML = '';\n    cell.append(editCell);\n\n    editCell.addEventListener('keydown', (evnt2) => {\n      if (evnt2.key === 'Enter') {\n        editCell.blur();\n      }\n    });\n\n    const initialValue = dataArray[index][atribute];\n\n    editCell.addEventListener('blur', () => {\n      let valueToSet = editCell.value;\n\n      if (!editCell.value) {\n        valueToSet = initialValue;\n        createTable();\n      }\n\n      if (atribute === 'salary') {\n        dataArray[index][atribute] = +valueToSet;\n      } else {\n        dataArray[index][atribute] = valueToSet;\n      }\n      editCell.remove();\n      createTable();\n    });\n  }\n});\n"]}